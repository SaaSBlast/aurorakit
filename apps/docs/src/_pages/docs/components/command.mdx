import * as React from 'react'
import { Tabs, Tab, Steps } from 'nextra/components'
import {
  Calculator,
  Calendar,
  CreditCard,
  Settings,
  Smile,
  User,
} from 'lucide-react'
import { css } from '@shadow-panda/styled-system/css'
import { Preview } from '@/components/_docs/preview'
import { ReferenceBadges } from '@/components/_docs/reference-badges'
import { Lead } from '@/components/_docs/lead'
import { DialogExample } from '@/components/_docs/examples/command/dialog'
import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from '@/components/ui/command'

# Command

<Lead>Fast, composable, unstyled command menu for React.</Lead>

<ReferenceBadges shadcnUiLink="https://ui.shadcn.com/docs/components/command" />

export const iconStyle = css({ mr: '2', h: '4', w: '4' })

export const Example = () => {
  return (
    <Command
      className={css({ rounded: 'lg', border: 'base', boxShadow: 'md' })}
    >
      <CommandInput placeholder="Type a command or search..." />
      <CommandList>
        <CommandEmpty>No results found.</CommandEmpty>
        <CommandGroup heading="Suggestions">
          <CommandItem>
            <Calendar className={iconStyle} />
            <span>Calendar</span>
          </CommandItem>
          <CommandItem>
            <Smile className={iconStyle} />
            <span>Search Emoji</span>
          </CommandItem>
          <CommandItem>
            <Calculator className={iconStyle} />
            <span>Calculator</span>
          </CommandItem>
        </CommandGroup>
        <CommandSeparator />
        <CommandGroup heading="Settings">
          <CommandItem>
            <User className={iconStyle} />
            <span>Profile</span>
            <CommandShortcut>⌘P</CommandShortcut>
          </CommandItem>
          <CommandItem>
            <CreditCard className={iconStyle} />
            <span>Billing</span>
            <CommandShortcut>⌘B</CommandShortcut>
          </CommandItem>
          <CommandItem>
            <Settings className={iconStyle} />
            <span>Settings</span>
            <CommandShortcut>⌘S</CommandShortcut>
          </CommandItem>
        </CommandGroup>
      </CommandList>
    </Command>
  )
}

<Tabs items={['Preview', 'Code']}>
  <Tab>
    <Preview>
      <Example />
    </Preview>
  </Tab>
  <Tab>

```tsx copy
import {
  Calculator,
  Calendar,
  CreditCard,
  Settings,
  Smile,
  User,
} from 'lucide-react'
import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from '@/components/ui/command'

const iconStyle = css({ mr: '2', h: '4', w: '4' })

export function Example() {
  return (
    <Command
      className={css({ rounded: 'lg', border: 'base', boxShadow: 'md' })}
    >
      <CommandInput placeholder="Type a command or search..." />
      <CommandList>
        <CommandEmpty>No results found.</CommandEmpty>
        <CommandGroup heading="Suggestions">
          <CommandItem>
            <Calendar className={iconStyle} />
            <span>Calendar</span>
          </CommandItem>
          <CommandItem>
            <Smile className={iconStyle} />
            <span>Search Emoji</span>
          </CommandItem>
          <CommandItem>
            <Calculator className={iconStyle} />
            <span>Calculator</span>
          </CommandItem>
        </CommandGroup>
        <CommandSeparator />
        <CommandGroup heading="Settings">
          <CommandItem>
            <User className={iconStyle} />
            <span>Profile</span>
            <CommandShortcut>⌘P</CommandShortcut>
          </CommandItem>
          <CommandItem>
            <CreditCard className={iconStyle} />
            <span>Billing</span>
            <CommandShortcut>⌘B</CommandShortcut>
          </CommandItem>
          <CommandItem>
            <Settings className={iconStyle} />
            <span>Settings</span>
            <CommandShortcut>⌘S</CommandShortcut>
          </CommandItem>
        </CommandGroup>
      </CommandList>
    </Command>
  )
}
```

  </Tab>
</Tabs>

## About

The `Command` component uses the [cmdk](https://cmdk.paco.me/) component by [pacocoursey](https://twitter.com/pacocoursey).

## Installation

<Steps>
### Install the following dependencies

```bash npm2yarn copy
npm i cmdk
```

### Add the `Dialog` component to your project.

The `Command` component uses the [`Dialog`](/docs/components/dialog) component. Make sure you have it installed in your project.

### Copy and paste the following code into your project

```tsx filename="components/ui/command.tsx" copy
'use client'

import * as React from 'react'
import { DialogProps } from '@radix-ui/react-dialog'
import { Command as CommandPrimitive } from 'cmdk'
import { Search } from 'lucide-react'
import { cx } from '@shadow-panda/styled-system/css'
import {
  command,
  commandDialogContent,
  commandDialogCommand,
  commandInput,
  commandInputSearch,
  commandInputInput,
  commandList,
  commandEmpty,
  commandGroup,
  commandSeparator,
  commandItem,
  commandShortcut,
} from '@shadow-panda/styled-system/recipes'
import { Dialog, DialogContent } from '@/components/ui/dialog'

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive ref={ref} className={cx(command(), className)} {...props} />
))
Command.displayName = CommandPrimitive.displayName

interface CommandDialogProps extends DialogProps {}

const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className={commandDialogContent()}>
        <Command className={commandDialogCommand()}>{children}</Command>
      </DialogContent>
    </Dialog>
  )
}

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className={commandInput()} cmdk-input-wrapper="">
    <Search className={commandInputSearch()} />
    <CommandPrimitive.Input
      ref={ref}
      className={cx(commandInputInput(), className)}
      {...props}
    />
  </div>
))

CommandInput.displayName = CommandPrimitive.Input.displayName

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cx(commandList(), className)}
    {...props}
  />
))

CommandList.displayName = CommandPrimitive.List.displayName

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => (
  <CommandPrimitive.Empty ref={ref} className={commandEmpty()} {...props} />
))

CommandEmpty.displayName = CommandPrimitive.Empty.displayName

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cx(commandGroup(), className)}
    {...props}
  />
))

CommandGroup.displayName = CommandPrimitive.Group.displayName

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator
    ref={ref}
    className={cx(commandSeparator(), className)}
    {...props}
  />
))
CommandSeparator.displayName = CommandPrimitive.Separator.displayName

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cx(commandItem(), className)}
    {...props}
  />
))

CommandItem.displayName = CommandPrimitive.Item.displayName

const CommandShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return <span className={cx(commandShortcut(), className)} {...props} />
}
CommandShortcut.displayName = 'CommandShortcut'

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}
```

### Update the import paths to match your project setup

</Steps>

## Usage

```tsx copy
import {
  CommandDialog,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from '@/components/ui/command'
```

```tsx copy
<Command>
  <CommandInput placeholder="Type a command or search..." />
  <CommandList>
    <CommandEmpty>No results found.</CommandEmpty>
    <CommandGroup heading="Suggestions">
      <CommandItem>Calendar</CommandItem>
      <CommandItem>Search Emoji</CommandItem>
      <CommandItem>Calculator</CommandItem>
    </CommandGroup>
    <CommandSeparator />
    <CommandGroup heading="Settings">
      <CommandItem>Profile</CommandItem>
      <CommandItem>Billing</CommandItem>
      <CommandItem>Settings</CommandItem>
    </CommandGroup>
  </CommandList>
</Command>
```

## Examples

### Dialog

<Tabs items={['Preview', 'Code']}>
  <Tab>
    <Preview>
      <DialogExample />
    </Preview>
  </Tab>
  <Tab>

```tsx copy
'use client'

import * as React from 'react'
import {
  Calculator,
  Calendar,
  CreditCard,
  Settings,
  Smile,
  User,
} from 'lucide-react'
import { css } from '@shadow-panda/styled-system/css'
import { muted } from '@shadow-panda/styled-system/recipes'
import {
  CommandDialog,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from '@/components/ui/command'

const iconStyle = css({ mr: '2', h: '4', w: '4' })

export function Example() {
  const [open, setOpen] = React.useState(false)

  React.useEffect(() => {
    const down = (e: KeyboardEvent) => {
      if (e.key === 'k' && e.metaKey) {
        setOpen((open) => !open)
      }
    }

    document.addEventListener('keydown', down)
    return () => document.removeEventListener('keydown', down)
  }, [])

  return (
    <>
      <p className={muted()}>
        Press{' '}
        <kbd
          className={css({
            pointerEvents: 'none',
            display: 'inline-flex',
            h: '5',
            userSelect: 'none',
            alignItems: 'center',
            gap: '1',
            rounded: 'sm',
            border: 'base',
            bg: 'muted',
            px: '1.5',
            fontFamily: 'mono',
            fontSize: '10px',
            fontWeight: 'medium',
            color: 'muted.foreground',
            opacity: '1',
          })}
        >
          <span className={css({ textStyle: 'sm' })}>⌘</span>K
        </kbd>
      </p>
      <CommandDialog open={open} onOpenChange={setOpen}>
        <CommandInput placeholder="Type a command or search..." />
        <CommandList>
          <CommandEmpty>No results found.</CommandEmpty>
          <CommandGroup heading="Suggestions">
            <CommandItem>
              <Calendar className={iconStyle} />
              <span>Calendar</span>
            </CommandItem>
            <CommandItem>
              <Smile className={iconStyle} />
              <span>Search Emoji</span>
            </CommandItem>
            <CommandItem>
              <Calculator className={iconStyle} />
              <span>Calculator</span>
            </CommandItem>
          </CommandGroup>
          <CommandSeparator />
          <CommandGroup heading="Settings">
            <CommandItem>
              <User className={iconStyle} />
              <span>Profile</span>
              <CommandShortcut>⌘P</CommandShortcut>
            </CommandItem>
            <CommandItem>
              <CreditCard className={iconStyle} />
              <span>Billing</span>
              <CommandShortcut>⌘B</CommandShortcut>
            </CommandItem>
            <CommandItem>
              <Settings className={iconStyle} />
              <span>Settings</span>
              <CommandShortcut>⌘S</CommandShortcut>
            </CommandItem>
          </CommandGroup>
        </CommandList>
      </CommandDialog>
    </>
  )
}
```

  </Tab>
</Tabs>

To show the command menu in a dialog, use the `<CommandDialog />` component.

```tsx copy
export function Example() {
  const [open, setOpen] = React.useState(false)

  React.useEffect(() => {
    const down = (e: KeyboardEvent) => {
      if (e.key === 'k' && e.metaKey) {
        setOpen((open) => !open)
      }
    }
    document.addEventListener('keydown', down)
    return () => document.removeEventListener('keydown', down)
  }, [])

  return (
    <CommandDialog open={open} onOpenChange={setOpen}>
      <CommandInput placeholder="Type a command or search..." />
      <CommandList>
        <CommandEmpty>No results found.</CommandEmpty>
        <CommandGroup heading="Suggestions">
          <CommandItem>Calendar</CommandItem>
          <CommandItem>Search Emoji</CommandItem>
          <CommandItem>Calculator</CommandItem>
        </CommandGroup>
      </CommandList>
    </CommandDialog>
  )
}
```

### Combobox

You can use the `Command` component as a combobox. See the [Combobox](/docs/components/combobox) page for more information.
